{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Fake data","description":"creates and deletes fake data for development purposes"},{"name":"User","description":"CRUD operations for users"},{"name":"Admin","description":"Administrative operations"},{"name":"Authentication","description":"Get current authenticated user information"}],"paths":{"/api/users/{userId}":{"get":{"tags":["User"],"summary":"Get user dto by ID","description":"Returns user dto for the user with the specified ID.","operationId":"getUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppUserDto"}}}}}},"put":{"tags":["User"],"summary":"Update User Account (Requesting User / Super Admin only)","description":"Returns the updated user account after applying the changes.","operationId":"updateUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppUserUpdateDto"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"User not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict - Duplicate unique considered data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppUser"}}}}}},"delete":{"tags":["User"],"summary":"Delete user account (Requesting User / Super Admin only)","description":"Deletes the user account.","operationId":"deleteUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"User not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict - Duplicate unique considered data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"200":{"description":"OK"}}}},"/api/admin/super/make-super-admin/{userId}":{"put":{"tags":["Admin"],"summary":"Make User Super Admin (Super Admin only)","description":"Returns the updated user account after applying the change.","operationId":"makeUserSuperAdmin","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"User not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"User not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/api/admin/make-admin/{userId}":{"put":{"tags":["Admin"],"summary":"Make User Admin (Admin only)","description":"Returns the updated user account after applying the change.","operationId":"makeUserAdmin","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"User not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"User not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/api/fake-data/create-fake-users":{"post":{"tags":["Fake data"],"summary":"Create fake users","description":"Creates custom number fake users for testing purposes.","operationId":"createFakeUsers","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"200":{"description":"OK"}}}},"/api/users/all":{"get":{"tags":["User"],"summary":"Get an array of all users (dto's)","description":"Returns an array of all user dto's accounts currently stored in the system.","operationId":"getAllUsers","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppUserDto"}}}}}}}},"/api/auth/getMe":{"get":{"tags":["Authentication"],"summary":"Get current user","description":"Returns the currently authenticated user's information.","operationId":"getMe","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"User not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppUser"}}}}}}},"/api/admin/super/{userId}":{"get":{"tags":["Admin"],"summary":"Get raw user by ID (Super Admin only)","description":"Returns user for the user with the specified ID.","operationId":"getRawUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppUser"}}}}}}},"/api/admin/super/get-all-users":{"get":{"tags":["Admin"],"summary":"Get All Users (Super Admin only)","description":"Returns an array of all user accounts currently stored in the system.","operationId":"getAllRawUsers","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"User not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"403":{"description":"User not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/api/fake-data/delete-all-users":{"delete":{"tags":["Fake data"],"summary":"Delete all fake users","description":"Deletes all users from the system.","operationId":"deleteAllFakeUsers","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"200":{"description":"OK"}}}}},"components":{"schemas":{"ErrorMessage":{"type":"object","properties":{"timeStamp":{"type":"string","description":"The timestamp when the error occurred","example":"2024-06-15T12:34:56.789Z"},"error":{"type":"string","description":"Description of the error","example":"Resource not found"},"id":{"type":"string","description":"Unique identifier for the error instance","example":"err_1234567890"},"status":{"type":"integer","format":"int32","description":"HTTP status code associated with the error","example":404}},"required":["error","id","status","timeStamp"]},"AppUserUpdateDto":{"type":"object","description":"Data Transfer Object for updating user profile","properties":{"email":{"type":"string","description":"Email of the user","example":"john_doe@example.com"},"name":{"type":"string","description":"Name of the user","example":"John Doe","maxLength":20,"minLength":3},"userSettings":{"$ref":"#/components/schemas/UserSettings","description":"User settings"}},"required":["userSettings"]},"UserSettings":{"type":"object","description":"User settings","properties":{"userVisible":{"type":"boolean","description":"Whether the user is visible to others","example":true},"showAvatar":{"type":"boolean","description":"Whether to show the user's avatar","example":true},"showOrgas":{"type":"boolean","description":"Whether to show the user's organizations","example":true},"showEmail":{"type":"boolean","description":"Whether to show the user's email","example":true}},"required":["showAvatar","showEmail","showOrgas","userVisible"]},"AppUser":{"type":"object","description":"Application user entity","properties":{"id":{"type":"string","description":"Unique identifier of the mongoDb entity","example":"60d5ec49f1d2c12a34567890"},"createdDate":{"type":"string","format":"date-time","description":"The timestamp when this entity was created.","example":"2024-01-01T12:00:00Z"},"lastModifiedDate":{"type":"string","format":"date-time","description":"The timestamp of the last modification of this entity.","example":"2024-01-01T12:00:00Z"},"providerId":{"type":"string","description":"ID of the authentication provider","example":"github_1234567890"},"email":{"type":"string","description":"Email of the user","example":"john_doe@example.com"},"role":{"type":"string","description":"Role of the user","enum":["USER","ADMIN","SUPER_ADMIN"],"example":"USER"},"userSettings":{"$ref":"#/components/schemas/UserSettings","description":"User settings"},"name":{"type":"string","description":"Name of the user","example":"John Doe","maxLength":20,"minLength":3},"avatarUrl":{"type":"string","description":"Avatar URL of the user","example":"https://example.com/avatar.jpg"}},"required":["createdDate","id","lastModifiedDate","name","providerId","role","userSettings"]},"AppUserDto":{"type":"object","properties":{"email":{"type":"string","description":"Email of the user","readOnly":true},"name":{"type":"string","description":"Name of the user","readOnly":true},"avatarUrl":{"type":"string","description":"Avatar URL of the user","readOnly":true}},"required":["name"]}}}}